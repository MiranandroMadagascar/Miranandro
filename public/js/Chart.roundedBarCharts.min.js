Chart.elements.Rectangle.prototype.draw=function(){var t,r,e,i,o,_,h,l=this._chart.ctx,a=this._view,b=a.borderWidth,d=this._chart.config.options.cornerRadius;if(d<0&&(d=0),void 0===d&&(d=0),a.horizontal?(t=a.base,r=a.x,e=a.y-a.height/2,i=a.y+a.height/2,o=r>t?1:-1,_=1,h=a.borderSkipped||"left"):(t=a.x-a.width/2,r=a.x+a.width/2,e=a.y,o=1,_=(i=a.base)>e?1:-1,h=a.borderSkipped||"bottom"),b){var n=Math.min(Math.abs(t-r),Math.abs(e-i)),u=(b=b>n?n:b)/2,T=t+("left"!==h?u*o:0),v=r+("right"!==h?-u*o:0),g=e+("top"!==h?u*_:0),c=i+("bottom"!==h?-u*_:0);T!==v&&(e=g,i=c),g!==c&&(t=T,r=v)}l.beginPath(),l.fillStyle=a.backgroundColor,l.strokeStyle=a.borderColor,l.lineWidth=b;var C=[[t,i],[t,e],[r,e],[r,i]],w=["bottom","left","top","right"].indexOf(h,0);function s(t){return C[(w+t)%4]}-1===w&&(w=0);var f=s(0);l.moveTo(f[0],f[1]);for(var q=1;q<4;q++){var m;f=s(q),nextCornerId=q+1,4==nextCornerId&&(nextCornerId=0),nextCorner=s(nextCornerId),width=C[2][0]-C[1][0],height=C[0][1]-C[1][1],x=C[1][0],y=C[1][1],(m=d)>Math.abs(height)/2&&(m=Math.floor(Math.abs(height)/2)),m>Math.abs(width)/2&&(m=Math.floor(Math.abs(width)/2)),height<0?(x_tl=x,x_tr=x+width,y_tl=y+height,y_tr=y+height,x_bl=x,x_br=x+width,y_bl=y,y_br=y,l.moveTo(x_bl+m,y_bl),l.lineTo(x_br-m,y_br),l.quadraticCurveTo(x_br,y_br,x_br,y_br-m),l.lineTo(x_tr,y_tr+m),l.quadraticCurveTo(x_tr,y_tr,x_tr-m,y_tr),l.lineTo(x_tl+m,y_tl),l.quadraticCurveTo(x_tl,y_tl,x_tl,y_tl+m),l.lineTo(x_bl,y_bl-m),l.quadraticCurveTo(x_bl,y_bl,x_bl+m,y_bl)):width<0?(x_tl=x+width,x_tr=x,y_tl=y,y_tr=y,x_bl=x+width,x_br=x,y_bl=y+height,y_br=y+height,l.moveTo(x_bl+m,y_bl),l.lineTo(x_br-m,y_br),l.quadraticCurveTo(x_br,y_br,x_br,y_br-m),l.lineTo(x_tr,y_tr+m),l.quadraticCurveTo(x_tr,y_tr,x_tr-m,y_tr),l.lineTo(x_tl+m,y_tl),l.quadraticCurveTo(x_tl,y_tl,x_tl,y_tl+m),l.lineTo(x_bl,y_bl-m),l.quadraticCurveTo(x_bl,y_bl,x_bl+m,y_bl)):(l.moveTo(x+m,y),l.lineTo(x+width-m,y),l.quadraticCurveTo(x+width,y,x+width,y+m),l.lineTo(x+width,y+height-m),l.quadraticCurveTo(x+width,y+height,x+width-m,y+height),l.lineTo(x+m,y+height),l.quadraticCurveTo(x,y+height,x,y+height-m),l.lineTo(x,y+m),l.quadraticCurveTo(x,y,x+m,y))}l.fill(),b&&l.stroke()};